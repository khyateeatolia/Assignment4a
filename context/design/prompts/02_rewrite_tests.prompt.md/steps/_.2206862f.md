---
timestamp: 'Sun Oct 19 2025 13:55:06 GMT-0400 (Eastern Daylight Time)'
parent: '[[../20251019_135506.2a28159a.md]]'
content_id: 2206862f7d88f80f731008f2e09383e582618f0eee1c4e6dec415a877857dd1d
---

# Rewrite UserAccount Tests Following LikertSurvey Format

## Role

You are a senior Deno + TypeScript + MongoDB engineer. I need you to rewrite your previously written UserAccount concept tests to follow the same format and style as the LikertSurvey tests.

## Context

Based on previous work: [@](context/design/prompts/00_intro.prompt.md/steps/response.c02a8ebe.md)

## Current Implementation

The UserAccount concept is already implemented: [@](../../src/concepts/UserAccount/UserAccountConcept.ts)

## Current Test Structure

The current tests use a complex setup with describe/beforeAll/beforeEach/afterAll: [@](../../src/concepts/UserAccount/UserAccountConcept.test.ts)

## Example Format to Follow

I want the tests to follow the LikertSurvey format: [@](../../src/concepts/UserAccount/LikertSurveyConcept.test.ts)

## Available Test Data

Sample fake test data is available: [@](../../src/concepts/UserAccount/fakeTestData.ts)

## Requirements

### Test Format

* Use `Deno.test()` with descriptive names (like "Principle: User requests verification, confirms with token, edits profile")
* Follow the LikertSurvey pattern of one comprehensive test per principle
* Use `testDb()` from `@utils/database.ts` for database setup
* Use `try/finally` blocks for cleanup
* Use `assertExists`, `assertEquals`, `assertNotEquals` from `jsr:@std/assert`

### Test Structure

* **One test per operational principle** (not individual action testing)
* **End-to-end workflows** that test complete user journeys
* **Clear step-by-step progression** with numbered comments
* **Proper error handling** with meaningful assertions
* **Database cleanup** in finally blocks

### Output Format

* **Assumptions**: Any assumptions about the test approach
* **Complete test file**: Full TypeScript test file following LikertSurvey format
* **Test data usage**: How to integrate the fake test data

## Constraints

* Must follow the exact LikertSurvey test structure
* Must test complete workflows, not individual methods
* Must use the existing UserAccount concept implementation
* Must handle MongoDB operations properly
* Must include proper error assertions

## Expected Output

A complete test file that demonstrates the UserAccount concept through operational principles, following the LikertSurvey format.
